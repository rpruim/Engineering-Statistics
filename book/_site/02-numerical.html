<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistics for the Physical Sciences and Engineering - 2&nbsp; Numerical Summaries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-probability.html" rel="next">
<link href="./01-graphical.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

</head><body class="nav-sidebar docked">$$
\def\reals{\mathbb{R}}
\def\card#1{| #1 |}
\def\mean{\overline}
\def\evProb#1{\operatorname{Prob}(\mbox{#1})}
\def\Prob{\operatorname{Prob}}
\def\tand{\operatorname{and}}
\def\tor{\operatorname{or}}
\def\tnot{\operatorname{not}}
\def\E{{\operatorname E}}
\def\Var{\operatorname{Var}}
\def\SD{\operatorname{SD}}
\def\union{\cup}
\def\intersect{\cap}
\def\Unif{\mathsf{Unif}}
\def\Beta{\mathsf{Beta}}
\def\Rayleigh{\mathsf{Rayleigh}}
\def\Exp{\mathsf{Exp}}
\def\Norm{\mathsf{Norm}}
\def\Tri{\mathsf{Tri}}
\def\Gamm{\mathsf{Gamma}}
\def\Pois{\mathsf{Pois}}
\def\Binom{\mathsf{Binom}}
\def\Weibull{\mathsf{Weibull}}
\def\Tdist{\mathsf{T}}
\def\Fdist{\mathsf{F}}
\def\Chisq{\mathsf{Chisq}}
\def\boolval#1{[\![ #1 ]\!]}
\def\simiid{\stackrel{\mathrm{iid}{\sim}}}

\def\sfrac#1#2{{#1}/{#2}}
\def\PartialFrac#1#2{\frac{\partial #1}{\partial #2}}
\def\Partial#1#2{\frac{\partial}{\partial #2} #1}

\def\myindex#1{\relax}
$$

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="book.css">




<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical Summaries</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistics for the Physical Sciences and Engineering</a> 
        <div class="sidebar-tools-main">
    <a href="./Pruim-Stat-for-Phys-Sci-and-Engr.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-chap0.html" class="sidebar-item-text sidebar-link">Where do numbers come from?</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-graphical.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Graphical Summaries of Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-numerical.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical Summaries</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-probability.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Probability</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-random-variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Random Variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-transformations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Transformation and Combinations of Random Variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-propagation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Propagation of Uncertainty</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-simple-linear.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Linear Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-nonlinear.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Beyond Linear Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-hypothesis-testing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-more-examples.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Examples</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#tabulating-data" id="toc-tabulating-data" class="nav-link active" data-scroll-target="#tabulating-data"><span class="toc-section-number">2.1</span>  Tabulating Data</a>
  <ul class="collapse">
  <li><a href="#tabulating-a-categorical-variable" id="toc-tabulating-a-categorical-variable" class="nav-link" data-scroll-target="#tabulating-a-categorical-variable"><span class="toc-section-number">2.1.1</span>  Tabulating a categorical variable</a></li>
  <li><a href="#two-interfaces" id="toc-two-interfaces" class="nav-link" data-scroll-target="#two-interfaces"><span class="toc-section-number">2.1.2</span>  Two interfaces</a></li>
  </ul></li>
  <li><a href="#tabulating-a-quantitative-variable" id="toc-tabulating-a-quantitative-variable" class="nav-link" data-scroll-target="#tabulating-a-quantitative-variable"><span class="toc-section-number">2.2</span>  Tabulating a quantitative variable</a>
  <ul class="collapse">
  <li><a href="#tabulating-in-bins-optional" id="toc-tabulating-in-bins-optional" class="nav-link" data-scroll-target="#tabulating-in-bins-optional"><span class="toc-section-number">2.2.1</span>  Tabulating in bins (optional)</a></li>
  </ul></li>
  <li><a href="#cross-tables-tabulating-two-or-more-variables" id="toc-cross-tables-tabulating-two-or-more-variables" class="nav-link" data-scroll-target="#cross-tables-tabulating-two-or-more-variables"><span class="toc-section-number">2.3</span>  Cross-tables: Tabulating two or more variables</a></li>
  <li><a href="#working-with-pre-tabulated-data" id="toc-working-with-pre-tabulated-data" class="nav-link" data-scroll-target="#working-with-pre-tabulated-data"><span class="toc-section-number">2.4</span>  Working with Pre-Tabulated Data</a></li>
  <li><a href="#summarizing-distributions-of-quantitative-variables" id="toc-summarizing-distributions-of-quantitative-variables" class="nav-link" data-scroll-target="#summarizing-distributions-of-quantitative-variables"><span class="toc-section-number">2.5</span>  Summarizing Distributions of Quantitative Variables</a>
  <ul class="collapse">
  <li><a href="#important-note" id="toc-important-note" class="nav-link" data-scroll-target="#important-note">Important Note</a></li>
  <li><a href="#notation" id="toc-notation" class="nav-link" data-scroll-target="#notation">Notation</a></li>
  </ul></li>
  <li><a href="#measures-of-center" id="toc-measures-of-center" class="nav-link" data-scroll-target="#measures-of-center"><span class="toc-section-number">2.6</span>  Measures of Center</a></li>
  <li><a href="#measures-of-spread" id="toc-measures-of-spread" class="nav-link" data-scroll-target="#measures-of-spread"><span class="toc-section-number">2.7</span>  Measures of Spread</a>
  <ul class="collapse">
  <li><a href="#a-word-of-caution" id="toc-a-word-of-caution" class="nav-link" data-scroll-target="#a-word-of-caution"><span class="toc-section-number">2.7.1</span>  A word of caution</a></li>
  <li><a href="#box-plots" id="toc-box-plots" class="nav-link" data-scroll-target="#box-plots"><span class="toc-section-number">2.7.2</span>  Box plots</a></li>
  <li><a href="#small-data-sets" id="toc-small-data-sets" class="nav-link" data-scroll-target="#small-data-sets"><span class="toc-section-number">2.7.3</span>  Small data sets</a></li>
  </ul></li>
  <li><a href="#summarizing-categorical-variables" id="toc-summarizing-categorical-variables" class="nav-link" data-scroll-target="#summarizing-categorical-variables"><span class="toc-section-number">2.8</span>  Summarizing Categorical Variables</a></li>
  <li><a href="#relationships-between-two-variables" id="toc-relationships-between-two-variables" class="nav-link" data-scroll-target="#relationships-between-two-variables"><span class="toc-section-number">2.9</span>  Relationships Between Two Variables</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="toc-section-number">2.10</span>  Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-numerical-summaries" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Numerical Summaries</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="tabulating-data" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="tabulating-data"><span class="header-section-number">2.1</span> Tabulating Data</h2>
<p>A table is one kind of numerical summary of a data set. In fact, you can think of histograms and bar graphs as graphical representations of summary tables. But sometimes it is nice to have the table itself. R provides several ways of obtaining such tables.</p>
<section id="tabulating-a-categorical-variable" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="tabulating-a-categorical-variable"><span class="header-section-number">2.1.1</span> Tabulating a categorical variable</h3>
<section id="the-formula-interface" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-formula-interface">The formula interface</h4>
<p>There are several functions for tabulating categorical variables. <code>tally()</code> uses a syntax that is very similar to <code>bargraph()</code>. We’ll call this method the <strong>formula interface</strong>. (R calls anything with a tilde (<code>~</code>) a formula.)</p>
<p><code>tally()</code> allows us to choose raw counts, proportions, or percentages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span> sex, <span class="at">data =</span> KidsFeet )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sex
 B  G 
20 19 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span> sex, <span class="at">data =</span> KidsFeet, <span class="at">format =</span> <span class="st">"prop"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sex
        B         G 
0.5128205 0.4871795 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span> sex, <span class="at">data =</span> KidsFeet, <span class="at">format =</span> <span class="st">"perc"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sex
       B        G 
51.28205 48.71795 </code></pre>
</div>
</div>
</section>
<section id="the--interface" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the--interface">The $-interface</h4>
<p><code>table()</code> and its cousins use the <code>$</code> operator which selects one variable out of a data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>KidsFeet<span class="sc">$</span>sex      <span class="co"># general syntax: dataframe$variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] B B B B B B B G G B B B B B G G G G G G B B G G G B G B B B G G G B B G G G
[39] G
Levels: B G</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(KidsFeet<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 B  G 
20 19 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tally() is bilingual:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>(KidsFeet<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>X
 B  G 
20 19 </code></pre>
</div>
</div>
<p>We’ll call this interface the <strong><code>$</code>-interface</strong>.</p>
</section>
</section>
<section id="two-interfaces" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="two-interfaces"><span class="header-section-number">2.1.2</span> Two interfaces</h3>
<p>Some functions in R require the formula interface, some require the <code>$</code>-interface, and some allow you to use either one.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<!-- % For example, histogram will also work like this. -->
<!-- % % gf_histogram( HELPrct$age ) -->
<!-- % But notice that the output is not quite as nice, since the default label  -->
<!-- % for the horizontal axis now shows both the data frame name and the variable name -->
<!-- % with a \code{\$} between.   -->
<p><em>My advice is to use formula interfaces whenever they are available and to choose tools that make this possible.</em></p>
</section>
</section>
<section id="tabulating-a-quantitative-variable" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="tabulating-a-quantitative-variable"><span class="header-section-number">2.2</span> Tabulating a quantitative variable</h2>
<p>Although <code>tally()</code> and <code>table()</code> work with quantitative variables as well as categorical variables, this is only useful when there are not too many different values for the variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span>age, <span class="at">data =</span> HELPrct )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>age
19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 
 1  2  3  8  5  8  7 13 18 15 18 18 20 28 35 18 25 23 20 18 27 10 20 10 13  7 
45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 
13  5 14  5  8  2  1  1  3  1  2  1  2  2  2  1 </code></pre>
</div>
</div>
<section id="tabulating-in-bins-optional" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="tabulating-in-bins-optional"><span class="header-section-number">2.2.1</span> Tabulating in bins (optional)</h3>
<p>Usually a graph is the best way to display and summarize quantitative data, but if you need to crest a summary table, you may need to group quantitative data into bins. We just have to tell R what the bins are. For example, suppose we wanted to group the 20s, 30s, 40s, etc. together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's add a new variable to HELPrct</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>HELPrct <span class="ot">&lt;-</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  HELPrct <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">binnedAge =</span> <span class="fu">cut</span>(age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>) ))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age"],"name":[1],"type":["int"],"align":["right"]},{"label":["anysubstatus"],"name":[2],"type":["int"],"align":["right"]},{"label":["anysub"],"name":[3],"type":["fct"],"align":["left"]},{"label":["cesd"],"name":[4],"type":["int"],"align":["right"]},{"label":["d1"],"name":[5],"type":["int"],"align":["right"]},{"label":["daysanysub"],"name":[6],"type":["int"],"align":["right"]},{"label":["dayslink"],"name":[7],"type":["int"],"align":["right"]},{"label":["drugrisk"],"name":[8],"type":["int"],"align":["right"]},{"label":["e2b"],"name":[9],"type":["int"],"align":["right"]},{"label":["female"],"name":[10],"type":["int"],"align":["right"]},{"label":["sex"],"name":[11],"type":["fct"],"align":["left"]},{"label":["g1b"],"name":[12],"type":["fct"],"align":["left"]},{"label":["homeless"],"name":[13],"type":["fct"],"align":["left"]},{"label":["i1"],"name":[14],"type":["int"],"align":["right"]},{"label":["i2"],"name":[15],"type":["int"],"align":["right"]},{"label":["id"],"name":[16],"type":["int"],"align":["right"]},{"label":["indtot"],"name":[17],"type":["int"],"align":["right"]},{"label":["linkstatus"],"name":[18],"type":["int"],"align":["right"]},{"label":["link"],"name":[19],"type":["fct"],"align":["left"]},{"label":["mcs"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["pcs"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["pss_fr"],"name":[22],"type":["int"],"align":["right"]},{"label":["racegrp"],"name":[23],"type":["fct"],"align":["left"]},{"label":["satreat"],"name":[24],"type":["fct"],"align":["left"]},{"label":["sexrisk"],"name":[25],"type":["int"],"align":["right"]},{"label":["substance"],"name":[26],"type":["fct"],"align":["left"]},{"label":["treat"],"name":[27],"type":["fct"],"align":["left"]},{"label":["avg_drinks"],"name":[28],"type":["int"],"align":["right"]},{"label":["max_drinks"],"name":[29],"type":["int"],"align":["right"]},{"label":["hospitalizations"],"name":[30],"type":["int"],"align":["right"]},{"label":["binnedAge"],"name":[31],"type":["fct"],"align":["left"]}],"data":[{"1":"37","2":"1","3":"yes","4":"49","5":"3","6":"177","7":"225","8":"0","9":"NA","10":"0","11":"male","12":"yes","13":"housed","14":"13","15":"26","16":"1","17":"39","18":"1","19":"yes","20":"25.111990","21":"58.41369","22":"0","23":"black","24":"no","25":"4","26":"cocaine","27":"yes","28":"13","29":"26","30":"3","31":"(30,40]","_rn_":"1"},{"1":"37","2":"1","3":"yes","4":"30","5":"22","6":"2","7":"NA","8":"0","9":"NA","10":"0","11":"male","12":"yes","13":"homeless","14":"56","15":"62","16":"2","17":"43","18":"NA","19":"NA","20":"26.670307","21":"36.03694","22":"1","23":"white","24":"no","25":"7","26":"alcohol","27":"yes","28":"56","29":"62","30":"22","31":"(30,40]","_rn_":"2"},{"1":"26","2":"1","3":"yes","4":"39","5":"0","6":"3","7":"365","8":"20","9":"NA","10":"0","11":"male","12":"no","13":"housed","14":"0","15":"0","16":"3","17":"41","18":"0","19":"no","20":"6.762923","21":"74.80633","22":"13","23":"black","24":"no","25":"2","26":"heroin","27":"no","28":"0","29":"0","30":"0","31":"(20,30]","_rn_":"3"},{"1":"39","2":"1","3":"yes","4":"15","5":"2","6":"189","7":"343","8":"0","9":"1","10":"1","11":"female","12":"no","13":"housed","14":"5","15":"5","16":"4","17":"28","18":"0","19":"no","20":"43.967880","21":"61.93168","22":"11","23":"white","24":"yes","25":"4","26":"heroin","27":"no","28":"5","29":"5","30":"2","31":"(30,40]","_rn_":"4"},{"1":"32","2":"1","3":"yes","4":"39","5":"12","6":"2","7":"57","8":"0","9":"1","10":"0","11":"male","12":"no","13":"homeless","14":"10","15":"13","16":"5","17":"38","18":"1","19":"yes","20":"21.675755","21":"37.34558","22":"10","23":"black","24":"no","25":"6","26":"cocaine","27":"no","28":"10","29":"13","30":"12","31":"(30,40]","_rn_":"5"},{"1":"47","2":"1","3":"yes","4":"6","5":"1","6":"31","7":"365","8":"0","9":"NA","10":"1","11":"female","12":"no","13":"housed","14":"4","15":"4","16":"6","17":"29","18":"0","19":"no","20":"55.508991","21":"46.47521","22":"5","23":"black","24":"no","25":"5","26":"cocaine","27":"yes","28":"4","29":"4","30":"1","31":"(40,50]","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span> binnedAge, <span class="at">data =</span> HELPrct) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>binnedAge
(10,20] (20,30] (30,40] (40,50] (50,60] (60,70] 
      3     113     224      97      16       0 </code></pre>
</div>
</div>
<p>That’s not quite what we wanted: 30 is in with the 20s, for example. Here’s how we fix that.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>HELPrct <span class="ot">&lt;-</span> HELPrct <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">binnedAge =</span> <span class="fu">cut</span>(age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>), <span class="at">right =</span> <span class="cn">FALSE</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>( <span class="sc">~</span> binnedAge, <span class="at">data =</span> HELPrct ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>binnedAge
[10,20) [20,30) [30,40) [40,50) [50,60) [60,70) 
      1      97     232     105      17       1 </code></pre>
</div>
</div>
<p>We won’t use this very often, since typically seeing this information in a histogram is more useful.</p>
</section>
</section>
<section id="cross-tables-tabulating-two-or-more-variables" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="cross-tables-tabulating-two-or-more-variables"><span class="header-section-number">2.3</span> Cross-tables: Tabulating two or more variables</h2>
<p><code>tally()</code> can also compute cross tables for two (or more) variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>(sex <span class="sc">~</span> substance, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        substance
sex      alcohol cocaine heroin
  female      36      41     30
  male       141     111     94</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tally</span>(<span class="sc">~</span> sex <span class="sc">+</span> substance, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        substance
sex      alcohol cocaine heroin
  female      36      41     30
  male       141     111     94</code></pre>
</div>
</div>
</section>
<section id="working-with-pre-tabulated-data" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="working-with-pre-tabulated-data"><span class="header-section-number">2.4</span> Working with Pre-Tabulated Data</h2>
<p>Sometimes data arrive pre-tabulated. We can use <code>gf_col()</code> instead of <code>gf_bar()</code> to graph pre-tabulated data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(abd)           <span class="co"># data sets from Analysis of Biological Data</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>TeenDeaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cause"],"name":[1],"type":["fct"],"align":["left"]},{"label":["deaths"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Accidents","2":"6688"},{"1":"Homicide","2":"2093"},{"1":"Suicide","2":"1615"},{"1":"Malignant tumor","2":"745"},{"1":"Heart disease","2":"463"},{"1":"Congenital abnormalities","2":"222"},{"1":"Chronic respiratory disease","2":"107"},{"1":"Influenza and pneumonia","2":"73"},{"1":"Cerebrovascular diseases","2":"67"},{"1":"Other tumor","2":"52"},{"1":"All other causes","2":"1653"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_col</span>(deaths <span class="sc">~</span> cause, <span class="at">data =</span> TeenDeaths) <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_refine</span>(<span class="fu">coord_flip</span>())    <span class="co"># flip x and y axes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02-numerical_files/figure-html/teen-deaths-1.png" class="img-fluid" width="432"></p>
</div>
</div>
<p>Notice that by default the causes are displayed in alphabetical order. R assumes that categorical data is nominal (that is, there is no particular natural or logical ordering to the categories) unless you say otherwise.</p>
<p>Here is an easy way to have things appear in a different order. The causes of death are reordered in order of increasing number of <code>deaths</code> caused.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_col</span>( deaths <span class="sc">~</span> <span class="fu">reorder</span>(cause, deaths), <span class="at">data =</span> TeenDeaths) <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_refine</span>(<span class="fu">coord_flip</span>()) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_labs</span>(<span class="at">x =</span> <span class="st">'Cause of Death'</span>, <span class="at">y =</span> <span class="st">'Number of Deaths'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02-numerical_files/figure-html/teen-deaths-order-1.png" class="img-fluid" width="432"></p>
</div>
</div>
</section>
<section id="summarizing-distributions-of-quantitative-variables" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="summarizing-distributions-of-quantitative-variables"><span class="header-section-number">2.5</span> Summarizing Distributions of Quantitative Variables</h2>
<section id="important-note" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="important-note">Important Note</h3>
<p>Numerical summaries are a convenient way to describe a distribution, but remember that numerical summaries do not necessarily tell you everything there is to know about a distribution. When working with a new dataset, it is <em>always</em> important to explore the data as fully as possible (commonly including graphical as well as numerical summaries, and sometimes even examining the data table directly) before accepting any simplified summary as a good representation of the data. You might discover certain patterns in the data, interesting features, or even outliers or mistakes in the data, that make certain summaries misrepresentations of the whole.</p>
</section>
<section id="notation" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="notation">Notation</h3>
<p>In statistics <span class="math inline">\(n\)</span> (or sometimes <span class="math inline">\(N\)</span>) almost always means the number of observations (i.e., the number of rows in a data frame).</p>
<p>If <span class="math inline">\(y\)</span> is a variable in a data set with <span class="math inline">\(n\)</span> cases, we can denote the <span class="math inline">\(n\)</span> values of <span class="math inline">\(y\)</span> as <!-- begin itemize --></p>
<ol>
<li><span class="math inline">\(y_1, y_2, y_3, \dots y_n\)</span> (in the original order of the data).</li>
<li><span class="math inline">\(y_{(1)}, y_{(2)}, y_{(3)}, \dots y_{(n)}\)</span> (in sorted order from smallest to largest).</li>
</ol>
<!-- end itemize -->
<p>The symbol <span class="math inline">\(\displaystyle \sum\)</span> represents summation (adding up a bunch of values).</p>
</section>
</section>
<section id="measures-of-center" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="measures-of-center"><span class="header-section-number">2.6</span> Measures of Center</h2>
<p>Measures of center attempt to give us a sense of what is a typical value for the distribution.</p>
<p><span class="math display">\[
\begin{aligned}
\mbox{mean of $y$}
&amp;=
\overline{y}
= \frac{\displaystyle \sum_{i = 1}^{n} y_i}{n}
= \frac{\mbox{sum of values}}{\mbox{number of values}}
\\[3mm]
\mbox{median of $y$}
&amp;=
\mbox{the ``middle'' number}
\\
&amp; \quad\quad \mbox{(after putting the numbers in increasing order)}
\end{aligned}
\]</span></p>
<!-- begin itemize -->
<ol>
<li>The mean is the “balancing point” of the distribution.</li>
<li>The median<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> is the 50th percentile: half of the distribution is below the median, half is above.</li>
<li>If the distribution is symmetric, then the mean and median are the same.</li>
<li>In a skewed distribution, the mean is pulled farther toward the tail than the median is.</li>
<li><em>A few very large or very small values can change the mean a lot</em>, so the mean is <strong>sensitive</strong> to outliers and is a better measure of center when the distribution is symmetric than when it is skewed.</li>
<li>The median is a <strong>resistant</strong> measure (resistant to the presence of outlier) – it is not affected much by a few very large or very small values. <!-- end itemize --></li>
</ol>
</section>
<section id="measures-of-spread" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="measures-of-spread"><span class="header-section-number">2.7</span> Measures of Spread</h2>
<p><span class="math display">\[
\begin{aligned}
\mbox{variance of $y$}
= s^2_y
&amp;=
\frac{\displaystyle \sum  {i = 1}^{n} (y_i - \overline{y})^2 }{n-1}
\\[4mm]
\mbox{standard deviaiton of $y$}  = s_y
&amp;= \sqrt{s^2_y}
\\
&amp;= \mbox{square root of variance}
\\[4mm]
\mbox{interquartile range}  = \mbox{IQR}
&amp;= Q_3 - Q_1
\\
&amp; = \mbox{difference between first and third quartiles (defined shortly)}
\end{aligned}
\]</span></p>
<!-- begin itemize -->
<ol>
<li>Roughly, the standard deviation is the “average deviation from the mean”. (That’s not exactly right because of the squaring involved and because we are dividing by <span class="math inline">\(n-1\)</span> instead of by <span class="math inline">\(n\)</span>. More on that denominator later.)</li>
<li>The mean and standard deviation are especially useful for describing <strong>normal distributions</strong> and other unimodal, symmetric distributions that are roughly “bell-shaped”. (We’ll learn more about normal distributions later.)</li>
<li>Like the mean, the variance and standard deviation are sensitive to outliers and less suited for summarizing skewed distributions.</li>
<li>It is perhaps of some value to compute the variance and standard deviation by hand once or twice to make sure you understand how these measures are defined, but we will typically let R do the calculations for us. <!-- end itemize --></li>
</ol>
<p>To get a numerical summary of a variable (a statistic), we need to tell R which statistic we want and the variable and data frame involved. There several ways we can do this in R Here are several ways to get the mean, for example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(HELPrct<span class="sc">$</span>age)            <span class="co"># this is the old fashioned way</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35.65342</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="sc">~</span> age, <span class="at">data =</span> HELPrct)  <span class="co"># similar to our plotting methods; only works for some functions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35.65342</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span> age, <span class="at">data =</span> HELPrct, mean)  <span class="co"># formula-based and very flexible</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"age","2":"35.65342"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Using the formula style, we can now compute several different statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35.65342</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.710266</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59.4482</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>( <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)  <span class="co"># this computes several statistics at once</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["min"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Q1"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Q3"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[9],"type":["int"],"align":["right"]},{"label":["missing"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"age","2":"19","3":"30","4":"35","5":"40","6":"60","7":"35.65342","8":"7.710266","9":"453","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>It is also possible to compute these statistics separately for each of several groups. The syntax is much like the the syntax we used when plotting. In fact, we have two choices for the formula: <code>y ~ x</code> or <code>~ x | z</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(age <span class="sc">~</span> sex, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  female     male 
36.25234 35.46821 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(age <span class="sc">~</span> sex, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  female     male 
7.584858 7.750110 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>( <span class="sc">~</span> age <span class="sc">|</span> sex, <span class="at">data =</span> HELPrct )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sex"],"name":[2],"type":["fct"],"align":["left"]},{"label":["min"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Q1"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Q3"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[10],"type":["int"],"align":["right"]},{"label":["missing"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"age","2":"female","3":"21","4":"31","5":"35","6":"40.5","7":"58","8":"36.25234","9":"7.584858","10":"107","11":"0"},{"1":"age","2":"male","3":"19","4":"30","5":"35","6":"40.0","7":"60","8":"35.46821","9":"7.750110","10":"346","11":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="a-word-of-caution" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="a-word-of-caution"><span class="header-section-number">2.7.1</span> A word of caution</h3>
<p>None of these measures (especially the mean and median) is a particularly good summary of a distribution if the distribution is not unimodal. The histogram below shows the lengths of eruptions of the Old Faithful geyser at Yellowstone National Park.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(faraway)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span> Duration, <span class="at">data =</span> oldfaith)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-faithful-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div data-pagedtable="false">

<script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["min"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Q1"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Q3"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[9],"type":["int"],"align":["right"]},{"label":["missing"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"Duration","2":"96","3":"130","4":"240","5":"267.75","6":"306","7":"209.8778","8":"68.39213","9":"270","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.1: The distribution of Old Faithful eruption times is bimodal, suggesting two types of eruptions. A single number doesn’t do a good job of summarizing this sort of distribution.</figcaption><p></p>
</figure>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_histogram</span>( <span class="sc">~</span> Duration, <span class="at">data =</span> oldfaith,  <span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gf_labs</span>(<span class="at">title =</span> <span class="st">"Old Faithful Eruption Times"</span>, <span class="at">x =</span> <span class="st">"duration (sec)"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-faithful-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-faithful-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.2: The distribution of Old Faithful eruption times is bimodal, suggesting two types of eruptions. A single number doesn’t do a good job of summarizing this sort of distribution.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Notice that the mean and median do not represent typical eruption times very well. Nearly all eruptions are either quite a bit shorter or quite a bit longer. (This is especially true of the mean.)</p>
</section>
<section id="box-plots" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="box-plots"><span class="header-section-number">2.7.2</span> Box plots</h3>
<p>Boxplots (also called box-and-whisker plots) are a graphical representation of a <strong>5-number summary</strong> of a quantitative variable. The five numbers are the five <strong>quantiles</strong>: <!-- begin itemize --></p>
<ol>
<li><span class="math inline">\(Q_0\)</span>, the minimum</li>
<li><span class="math inline">\(Q_1\)</span>, the first quartile (25th percentile)</li>
<li><span class="math inline">\(Q_2\)</span>, the median (50th percentile)</li>
<li><span class="math inline">\(Q_3\)</span>, the third quartile (75th percentile)</li>
<li><span class="math inline">\(Q_4\)</span>, the maximum</li>
</ol>
<!-- end itemize -->
<div class="cell" data-fig.label="Boxplots show a 5-number summary graphically.">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(<span class="sc">~</span>age, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-boxplot" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot-1.png" class="img-fluid figure-img" width="432"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.3: <strong>?(caption)</strong></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Boxplots provide a way of comparing multiple groups that is especially informative and visually effective. Here is one way to make boxplots of multiple groups (it should look familiar from what we know about histogram):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(<span class="sc">~</span>age <span class="sc">|</span> substance <span class="sc">~</span> ., <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-boxplot-facets" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot-facets-1.png" class="img-fluid figure-img" width="432"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.4: Facets are not the best way to display this sort of plot.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>But <code>gf_boxplot()</code> has a better way. Put the quantitative variable on one side of the wiggle and the categorical on the other. The placement determines which goes along the vertical axis and which along the horizontal axis – just like it did for <code>gf_point()</code>.</p>
<div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(substance <span class="sc">~</span> age, <span class="at">data =</span> HELPrct)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(age <span class="sc">~</span> substance, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-boxplot2" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-boxplot2-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot2-1.png" class="img-fluid figure-img" data-ref-parent="fig-boxplot2"></p>
<p></p><figcaption class="figure-caption">(a) Horizontal boxplots often use space more efficiently</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-boxplot2-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot2-2.png" class="img-fluid figure-img" data-ref-parent="fig-boxplot2"></p>
<p></p><figcaption class="figure-caption">(b) But vertical boxplots follow the common “response variable on the y-axis” pattern.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.5: Boxplots are primarily used to compare multiple distributions. We can have a categorical variable on one of the axes to produce “side-by-side boxplots”.</figcaption><p></p>
</figure>
</div>
</div>
<p>And we can combine this idea with conditioning. <!-- Careful: The quantitative variable must be the "y" variable in the formula. --></p>
<div id="fig-boxplot3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(age <span class="sc">~</span> substance <span class="sc">|</span> homeless, <span class="at">data =</span> HELPrct)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(substance <span class="sc">~</span> age <span class="sc">|</span> homeless <span class="sc">~</span> ., <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-boxplot3-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot3-1.png" class="img-fluid figure-img" data-ref-parent="fig-boxplot3" width="432"></p>
<p></p><figcaption class="figure-caption">(a)</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-boxplot3-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-boxplot3-2.png" class="img-fluid figure-img" data-ref-parent="fig-boxplot3" width="432"></p>
<p></p><figcaption class="figure-caption">(b)</figcaption><p></p>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.6: Side-by-side boxplots with faceting.</figcaption><p></p>
</figure>
</div>
</section>
<section id="small-data-sets" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="small-data-sets"><span class="header-section-number">2.7.3</span> Small data sets</h3>
<p>When we have relatively small data sets, it may not make sense to use a boxplot. With very few observations, boxplots can be misleading, in that they suggest the presence of more observations than are really contained in the dataset. In these cases, it may be better to display all the data. <code>gf_jitter()</code> allows you to put a categorical variable along one axis and a quantitative variable along the other. For some data sets, either option can produce a plot that gives a good picture of the data.</p>
<div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_jitter</span>( weight <span class="sc">~</span> sex, <span class="at">data =</span> Mosquitoes, <span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>( weight <span class="sc">~</span> sex, <span class="at">data =</span> Mosquitoes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-gf-point-quant-by-cat" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-gf-point-quant-by-cat-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-gf-point-quant-by-cat-1.png" class="img-fluid figure-img" data-ref-parent="fig-gf-point-quant-by-cat" width="432"></p>
<p></p><figcaption class="figure-caption">(a)</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-gf-point-quant-by-cat-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="02-numerical_files/figure-html/fig-gf-point-quant-by-cat-2.png" class="img-fluid figure-img" data-ref-parent="fig-gf-point-quant-by-cat" width="432"></p>
<p></p><figcaption class="figure-caption">(b)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.7: Jitter can be useful for displaying relatively small data sets that have duplicated values.</figcaption><p></p>
</figure>
</div>
</div>
<p>Note the effect of the <code>width = 0.1, height = 0</code> – this tells <code>gf_jitter()</code> to move each data point slightly left or right, but not at all up or down. This can be used to reduce overplotting (data points being plotted on top of one another) without losing any information, making it clearer how many data points were observed for each possible combination of x- and y-values.</p>
</section>
</section>
<section id="summarizing-categorical-variables" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="summarizing-categorical-variables"><span class="header-section-number">2.8</span> Summarizing Categorical Variables</h2>
<p>The most common summary of a categorical variable is the <strong>proportion</strong> of observations in each category. For a single category:</p>
<p><span class="math display">\[
\begin{aligned}
\hat p &amp; = \frac{\mbox{number in one category}}{n}
\end{aligned}
\]</span></p>
<p>Proportions can be expressed as fractions, decimals or percents. For example, if there are 10 observations in one category and <span class="math inline">\(n = 50\)</span> observations in all, then</p>
<p><span class="math display">\[
\hat p = \frac{10}{25} = \frac{2}{5} =  0.40 = 40\%
\]</span></p>
<p>If we code our categorical variable using 1 for observations in a single category of interest – “the one category” – and 0 for observations in any other category, then <em>a proportion is a sample mean</em>.</p>
<p><span class="math display">\[
\frac{ 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 +
0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0 }{25} = \frac{10}{25}
\]</span></p>
</section>
<section id="relationships-between-two-variables" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="relationships-between-two-variables"><span class="header-section-number">2.9</span> Relationships Between Two Variables</h2>
<p>It is also possible to give numerical summaries of the relationship between two variables. The most common one is the <strong>correlation coefficient</strong>, which we will learn about later.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="exercises" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="exercises"><span class="header-section-number">2.10</span> Exercises</h2>
<div id="exr-small-variance" class="problem theorem exercise">
<p><span class="theorem-title"><strong>Exercise 2.1 </strong></span><strong>Small variance</strong></p>
<p>Create a data set with <span class="math inline">\(n = 6\)</span> values, each an integer between 0 and 10 (inclusive) that has the smallest possible variance. Compute the mean and variance of this data set “by hand” (that is, without using <code>mean()</code> or <code>sd()</code> or <code>var()</code> or `df_stats(), etc. in R or similar features on a calculator). You can check your hand calculation using R, but show the hand calculation.</p>
</div>
<div class="mysolution">
<p>The variance will be smallest if all the values are equal to the mean value. In that case the variance will be 0.</p>
<p>If you require all of the numbers to be distinct, the best you can do is 6 consecutive numbers</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">|&gt;</span> <span class="fu">df_stats</span>(<span class="sc">~</span> x, mean, var, sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["var"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"x","2":"3.5","3":"3.5","4":"1.870829"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="exr-large-variance" class="problem theorem exercise">
<p><span class="theorem-title"><strong>Exercise 2.2 </strong></span><strong>Large variance</strong></p>
<p>Create a data set with <span class="math inline">\(n = 6\)</span> values, each an integer between 0 and 10 (inclusive) that has the largest possible variance. Compute the variance of this data set “by hand” (that is, without using <code>mean()</code> or <code>sd()</code> or <code>var()</code> or <code>df_stats()</code>, etc. in R or similar features on a calculator). You can check your hand calculation using R, but show the hand calculation.</p>
</div>
<div class="mysolution">
<p>The variance will be largest if all the values are far from the mean. If we have a data set with three 0’s and 3 10’s, then the mean is 5 and the variance is</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>( <span class="dv">3</span><span class="sc">*</span>(<span class="dv">0-5</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span><span class="sc">*</span>(<span class="dv">10-5</span>)<span class="sc">^</span><span class="dv">2</span> ) <span class="sc">/</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
<pre><code>If you require the numbers to be distinct, then the best we can do is</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)) <span class="sc">|&gt;</span> <span class="fu">df_stats</span>(<span class="sc">~</span> x, mean, var, sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["var"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"x","2":"5","3":"20","4":"4.472136"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="exr-drinks-per-day" class="problem theorem exercise">
<p><span class="theorem-title"><strong>Exercise 2.3 </strong></span><strong>Drinks per day, graphical summary</strong></p>
<p>Create side-by-side boxplots of the variable <code>i1</code> (average number of drinks per day) comparing the different <code>substance</code> groups in the <code>HELPrct</code> data frame.</p>
<p>For each <code>variable</code> substance group, explain how you can tell from the boxplots whether the mean will be larger than the median or the median larger than the mean.</p>
</div>
<div class="mysolution">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(i1 <span class="sc">~</span> substance , <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02-numerical_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="432"></p>
</div>
</div>
<p>The means are larger because the distributions have longer tails in the higher direction.</p>
</div>
<div id="exr-drinks-per-day-numerical" class="problem theorem exercise">
<p><span class="theorem-title"><strong>Exercise 2.4 </strong></span><strong>Drinks per day, numerical summary</strong></p>
<p>Compute the mean and median values of <code>i1</code> (average number of drinks per day) for each of the <code>substance</code> groups in the <code>HELPrct</code> data frame.</p>
</div>
<div class="mysolution">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(i1 <span class="sc">~</span> substance, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  alcohol   cocaine    heroin 
29.192090 12.131579  8.879032 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(i1 <span class="sc">~</span> substance, <span class="at">data =</span> HELPrct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>alcohol cocaine  heroin 
     25       6       4 </code></pre>
</div>
</div>
</div>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>One of the things that the <code>mosaic</code> package does is provide a formula interface for many functions that only had a <code>$</code>-interface before.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>A note about calculating medians: If the number of data points is odd, the median is the middle value (after putting the observations in increasing order). In cases where there is an even number of observations, the median is the average of the middle two observations.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01-graphical.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Graphical Summaries of Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-probability.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Probability</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>